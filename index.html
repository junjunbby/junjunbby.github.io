<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JunJun ‚Äî Dev Profile</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Loading Screen with Progress Bar -->
  <div id="loader" aria-hidden="false">
    <div class="loader-box" role="status" aria-live="polite">
      <div class="loader-logo" aria-hidden="true">
        <svg viewBox="0 0 100 100" width="48" height="48" aria-hidden="true">
          <rect x="10" y="10" width="80" height="80" rx="12" fill="#00aaff"/>
          <text x="50" y="62" font-size="38" text-anchor="middle" fill="#0b0f12" font-family="Arial Rounded MT Bold">JJ</text>
        </svg>
      </div>
      <div class="loader-text" id="loaderState">Loading</div>
      <div class="loader-bar" aria-hidden="true">
        <div class="loader-progress" id="loaderProgress"></div>
      </div>
      <div class="loader-percent" id="loaderPercent">0%</div>
    </div>
  </div>

  <!-- Particle Background -->
  <div class="particle-bg" aria-hidden="true"></div>

  <!-- Settings Button -->
  <button class="settings-btn" id="openSettings" aria-haspopup="dialog" aria-controls="settingsModal">‚öôÔ∏è</button>

  <main class="wrap" id="siteContent" aria-hidden="true">

    <header class="profile" role="banner">
      <!-- Banner (flat, themeable) -->
      <div id="profileBanner" class="profile-banner banner-default" aria-hidden="true"></div>

      <!-- Logo centered above avatar -->
      <div class="logo-above-avatar" aria-hidden="true">
        <svg viewBox="0 0 100 100" width="60" height="60" aria-hidden="true">
          <rect x="10" y="10" width="80" height="80" rx="12" fill="#00aaff"/>
          <text x="50" y="62" font-size="38" text-anchor="middle" fill="#0b0f12" font-family="Arial Rounded MT Bold">JJ</text>
        </svg>
      </div>

      <!-- Avatar centered -->
      <div class="avatar" role="img" aria-label="JunJun avatar">JJ</div>

      <!-- Meta centered -->
      <div class="meta">
        <div class="name">JunJun</div>
        <div class="handle">@junjun0558</div>
        <div class="role">Full‚ÄëStack Developer ‚Ä¢ Game Jam Enthusiast</div>
        <p class="bio">I build clean, performant web experiences and small browser games.</p>
      </div>
    </header>

    <section class="textbar">
      <div class="label">Explore more fun projects and mini games</div>
      <a class="link" href="game-website.html">MiniGamesHub</a>
    </section>

    <section class="textbar">
      <div class="label">Join my OG Fortnite Discord Server</div>
      <a class="link" href="https://discord.gg/MSweyqbrxR" target="_blank" rel="noopener">My OG Fortnite Discord Server</a>
    </section>

  </main>

  <!-- Settings Modal -->
  <div id="settingsModal" class="settings-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="settings-content" role="document">
      <h2>Appearance</h2>

      <div class="settings-section">
        <h3 class="section-title">Theme</h3>
        <div class="theme-grid" id="themeGrid">
          <button data-theme="light">Light</button>
          <button data-theme="dark">Dark</button>
          <button data-theme="purple">Purple</button>
          <button data-theme="neonBlue">Neon Blue</button>
          <button data-theme="galaxy">Galaxy</button>
          <button data-theme="galaxyPurple">Galaxy Purple</button>
          <button data-theme="sunset">Sunset</button>
          <button data-theme="matrix">Matrix</button>
          <button data-theme="cyberpunk">Cyberpunk</button>
          <button data-theme="midnight">Midnight</button>
        </div>
      </div>

      <hr>

      <div class="settings-section">
        <h3 class="section-title">Banner Style</h3>
        <div class="banner-grid" id="bannerGrid">
          <button data-banner="blueFade">Blue Fade</button>
          <button data-banner="purpleFade">Purple Fade</button>
          <button data-banner="sunset">Sunset</button>
          <button data-banner="neonBlue">Neon Blue</button>
          <button data-banner="galaxy">Galaxy</button>
          <button data-banner="galaxyPurple">Galaxy Purple</button>
          <button data-banner="midnight">Midnight</button>
          <button data-banner="matrix">Matrix</button>
          <button data-banner="cyberpunk">Cyberpunk</button>
          <button data-banner="iceBlue">Ice Blue</button>
          <button data-banner="lava">Lava</button>
          <button data-banner="emerald">Emerald</button>
          <button data-banner="gold">Gold</button>
          <button data-banner="vaporwave">Vaporwave</button>
          <button data-banner="fortniteOG">Fortnite OG</button>
          <button data-banner="techLines">Tech Lines</button>
          <button data-banner="pixelGrid">Pixel Grid</button>
          <button data-banner="neonMesh">Neon Mesh</button>
        </div>
      </div>

      <div class="settings-actions">
        <button class="close-btn" id="closeSettings">Close</button>
        <button class="reset-btn" id="resetSettings">Reset</button>
      </div>
    </div>
  </div>

  <!-- Chaos Clicker (floating right middle) -->
  <div class="chaos-wrapper" aria-hidden="false">
    <button id="chaosBtn" class="chaos-btn" aria-label="Activate Chaos Clicker">Chaos Clicker</button>
    <div class="chaos-counter" id="chaosCounter">Chaos Clicker: 0</div>
  </div>

  <script>
    /* Loader logic with progress bar and dynamic state text */
    (function() {
      const loader = document.getElementById('loader');
      const progressEl = document.getElementById('loaderProgress');
      const percentEl = document.getElementById('loaderPercent');
      const stateEl = document.getElementById('loaderState');
      const siteContent = document.getElementById('siteContent');

      let progress = 0;
      const targetDuration = 1800;
      const start = performance.now();

      function step(now) {
        const elapsed = now - start;
        const t = Math.min(1, elapsed / targetDuration);
        const eased = 1 - Math.pow(1 - t, 2);
        progress = Math.floor(eased * 100);
        progressEl.style.width = progress + '%';
        percentEl.textContent = progress + '%';

        if (progress < 30) stateEl.textContent = 'Preparing assets...';
        else if (progress < 70) stateEl.textContent = 'Applying themes...';
        else if (progress < 95) stateEl.textContent = 'Almost ready...';
        else stateEl.textContent = 'Done';

        if (t < 1) {
          requestAnimationFrame(step);
        } else {
          setTimeout(() => {
            loader.style.opacity = '0';
            loader.style.visibility = 'hidden';
            loader.setAttribute('aria-hidden', 'true');
            siteContent.setAttribute('aria-hidden', 'false');
            document.body.classList.add('loaded');
          }, 220);
        }
      }

      requestAnimationFrame(step);
    })();

    /* Theme and Banner selection logic with swatch active state */
    (function() {
      const themeGrid = document.getElementById('themeGrid');
      const bannerGrid = document.getElementById('bannerGrid');
      const settingsModal = document.getElementById('settingsModal');
      const openSettings = document.getElementById('openSettings');
      const closeSettings = document.getElementById('closeSettings');
      const resetSettings = document.getElementById('resetSettings');
      const profileBanner = document.getElementById('profileBanner');

      const savedTheme = localStorage.getItem('siteTheme');
      const savedBanner = localStorage.getItem('siteBanner');

      if (savedTheme) document.body.setAttribute('data-theme', savedTheme);
      if (savedBanner) {
        profileBanner.className = 'profile-banner banner-' + savedBanner;
        const btn = bannerGrid.querySelector('button[data-banner="'+savedBanner+'"]');
        if(btn) btn.classList.add('active');
      } else {
        profileBanner.className = 'profile-banner banner-default';
      }

      if (savedTheme) {
        const tbtn = themeGrid.querySelector('button[data-theme="'+savedTheme+'"]');
        if(tbtn) tbtn.classList.add('active');
      }

      themeGrid.addEventListener('click', (e) => {
        const btn = e.target.closest('button[data-theme]');
        if (!btn) return;
        const theme = btn.getAttribute('data-theme');
        document.body.setAttribute('data-theme', theme);
        localStorage.setItem('siteTheme', theme);
        themeGrid.querySelectorAll('button[data-theme]').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });

      bannerGrid.addEventListener('click', (e) => {
        const btn = e.target.closest('button[data-banner]');
        if (!btn) return;
        const banner = btn.getAttribute('data-banner');
        profileBanner.className = 'profile-banner banner-' + banner;
        localStorage.setItem('siteBanner', banner);
        bannerGrid.querySelectorAll('button[data-banner]').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });

      openSettings.addEventListener('click', () => {
        settingsModal.style.display = 'flex';
        settingsModal.setAttribute('aria-hidden', 'false');
        // focus trap start
        const focusable = settingsModal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if(focusable.length) focusable[0].focus();
      });
      closeSettings.addEventListener('click', () => {
        settingsModal.style.display = 'none';
        settingsModal.setAttribute('aria-hidden', 'true');
        openSettings.focus();
      });

      resetSettings.addEventListener('click', () => {
        localStorage.removeItem('siteTheme');
        localStorage.removeItem('siteBanner');
        document.body.removeAttribute('data-theme');
        profileBanner.className = 'profile-banner banner-default';
        themeGrid.querySelectorAll('button[data-theme]').forEach(b => b.classList.remove('active'));
        bannerGrid.querySelectorAll('button[data-banner]').forEach(b => b.classList.remove('active'));
      });

      settingsModal.addEventListener('click', (e) => {
        if (e.target === settingsModal) {
          settingsModal.style.display = 'none';
          settingsModal.setAttribute('aria-hidden', 'true');
          openSettings.focus();
        }
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          settingsModal.style.display = 'none';
          settingsModal.setAttribute('aria-hidden', 'true');
          openSettings.focus();
        }
      });
    })();
  </script>

  <!-- Chaos Clicker System Script -->
  <script>
  (function(){
    const chaosBtn = document.getElementById('chaosBtn');
    const chaosCounterEl = document.getElementById('chaosCounter');
    const profileBanner = document.getElementById('profileBanner');
    const avatar = document.querySelector('.avatar');
    const nameEl = document.querySelector('.name');
    const body = document.body;
    const wrap = document.querySelector('.wrap');
    const profileCard = document.querySelector('.profile');

    const themeOptions = ["light","dark","purple","neonBlue","galaxy","galaxyPurple","sunset","matrix","cyberpunk","midnight"];
    const bannerOptions = ["blueFade","purpleFade","sunset","neonBlue","galaxy","galaxyPurple","midnight","matrix","cyberpunk","iceBlue","lava","emerald","gold","vaporwave","fortniteOG","techLines","pixelGrid","neonMesh"];

    let chaosCount = 0;
    const superThreshold = 10;
    const cooldownMs = 900;
    let onCooldown = false;

    /* Sound system using WebAudio */
    function playChaosSound(type){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.connect(g);
        g.connect(ctx.destination);
        const now = ctx.currentTime;

        if(type === 'zap'){
          o.type = 'square';
          o.frequency.setValueAtTime(900, now);
          o.frequency.exponentialRampToValueAtTime(140, now + 0.18);
          g.gain.setValueAtTime(0.18, now);
          g.gain.exponentialRampToValueAtTime(0.0001, now + 0.20);
          o.start(now);
          o.stop(now + 0.22);
        } else if(type === 'boom'){
          o.type = 'sawtooth';
          o.frequency.setValueAtTime(120, now);
          o.frequency.exponentialRampToValueAtTime(30, now + 0.25);
          g.gain.setValueAtTime(0.28, now);
          g.gain.exponentialRampToValueAtTime(0.0001, now + 0.3);
          o.start(now);
          o.stop(now + 0.32);
        } else if(type === 'blip'){
          o.type = 'triangle';
          o.frequency.setValueAtTime(420, now);
          g.gain.setValueAtTime(0.14, now);
          g.gain.exponentialRampToValueAtTime(0.0001, now + 0.15);
          o.start(now);
          o.stop(now + 0.17);
        } else if(type === 'bass'){
          o.type = 'sine';
          o.frequency.setValueAtTime(60, now);
          g.gain.setValueAtTime(0.35, now);
          g.gain.exponentialRampToValueAtTime(0.0001, now + 0.45);
          o.start(now);
          o.stop(now + 0.5);
        } else {
          o.type = 'square';
          o.frequency.setValueAtTime(520, now);
          g.gain.setValueAtTime(0.1, now);
          g.gain.exponentialRampToValueAtTime(0.0001, now + 0.12);
          o.start(now);
          o.stop(now + 0.14);
        }
      }catch(e){
        // ignore audio errors (autoplay restrictions)
      }
    }

    /* Helpers */
    function randomFrom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
    function quickClassPulse(el, cls, ms){ if(!el) return; el.classList.add(cls); setTimeout(()=>el.classList.remove(cls), ms); }
    function addFlash(){ const f = document.createElement('div'); f.className = 'chaos-flash'; document.body.appendChild(f); setTimeout(()=>f.remove(), 260); }
    function spawnEmoji(count, intense){
      for(let i=0;i<count;i++){
        const e = document.createElement('div');
        e.className = 'chaos-emoji';
        e.textContent = randomFrom(intense ? ["üí•","üî•","üíÄ","üòà","‚ö°","üß®"] : ["‚ú®","‚ö°","üéâ","üåÄ","‚≠ê"]);
        e.style.left = Math.random()*100 + 'vw';
        e.style.fontSize = intense ? (26 + Math.random()*16) + 'px' : (22 + Math.random()*10) + 'px';
        document.body.appendChild(e);
        setTimeout(()=>e.remove(), 1700);
      }
    }

    /* Chaos effects (20+) */
    const chaosEffects = [
      () => { const t = randomFrom(themeOptions); body.setAttribute('data-theme', t); playChaosSound('blip'); },
      () => { const b = randomFrom(bannerOptions); profileBanner.className = 'profile-banner banner-' + b; playChaosSound('blip'); },
      () => { spawnEmoji(16,false); playChaosSound('zap'); },
      () => { if(wrap){ quickClassPulse(wrap,'super-shake',500); playChaosSound('boom'); } },
      () => { if(avatar){ avatar.style.transition = 'transform 520ms ease'; avatar.style.transform = 'rotate(720deg) scale(1.05)'; setTimeout(()=>avatar.style.transform='',540); } playChaosSound('blip'); },
      () => { quickClassPulse(nameEl,'chaos-glitch',450); playChaosSound('zap'); },
      () => { body.style.transition = 'background 280ms ease'; body.style.background = `hsl(${Math.floor(Math.random()*360)}, 60%, 8%)`; playChaosSound('blip'); },
      () => { quickClassPulse(profileCard,'chaos-blur',220); playChaosSound('zap'); },
      () => { const labels = document.querySelectorAll('.textbar .label'); if(labels.length) quickClassPulse(randomFrom(Array.from(labels)),'chaos-wiggle',380); playChaosSound('blip'); },
      () => { addFlash(); playChaosSound('boom'); },
      () => { body.style.transition = 'transform 220ms ease'; body.style.transform = 'rotate(' + (Math.random() > 0.5 ? 2 : -2) + 'deg)'; setTimeout(()=>body.style.transform='',260); playChaosSound('blip'); },
      () => { chaosBtn.textContent = randomFrom(["Chaos Clicker","MORE","AGAIN","WHY","HELP","OKAY"]); setTimeout(()=>chaosBtn.textContent='Chaos Clicker', 800); playChaosSound('blip'); },
      () => { if(profileBanner){ profileBanner.style.transition = 'transform 260ms ease'; profileBanner.style.transform = 'translateX(110%)'; setTimeout(()=>{ profileBanner.style.transform = 'translateX(0)'; },260); setTimeout(()=>{ profileBanner.style.transition=''; },620); } playChaosSound('zap'); },
      () => { body.style.filter = 'invert(1) hue-rotate(180deg)'; setTimeout(()=>body.style.filter='',280); playChaosSound('zap'); },
      () => { const bars = document.querySelectorAll('.textbar'); if(bars.length){ const target = randomFrom(Array.from(bars)); const oldBg = getComputedStyle(target).background; target.style.transition = 'background 220ms ease'; target.style.background = 'rgba(255,255,255,0.10)'; setTimeout(()=>target.style.background = oldBg,260); } playChaosSound('blip'); },
      () => { if(avatar){ avatar.style.transition = 'transform 220ms ease'; avatar.style.transform = 'scale(1.35)'; setTimeout(()=>avatar.style.transform='scale(1)',240); setTimeout(()=>avatar.style.transform='',480); } playChaosSound('boom'); },
      () => { for(let i=0;i<10;i++){ const dot = document.createElement('div'); dot.style.position='fixed'; const rect = chaosBtn.getBoundingClientRect(); dot.style.left = (rect.left + rect.width/2) + 'px'; dot.style.top = (rect.top + rect.height/2) + 'px'; dot.style.width=dot.style.height='6px'; dot.style.borderRadius='50%'; dot.style.background=randomFrom(['#111','#4cc9f0','#ff4b81']); dot.style.pointerEvents='none'; dot.style.zIndex='2500'; const angle = Math.random()*Math.PI*2; const dist = 50 + Math.random()*40; dot.style.transition='transform 420ms ease-out, opacity 420ms ease-out'; document.body.appendChild(dot); requestAnimationFrame(()=>{ dot.style.transform=`translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px)`; dot.style.opacity='0'; }); setTimeout(()=>dot.remove(),460); } playChaosSound('zap'); },
      () => { spawnEmoji(26,true); playChaosSound('boom'); },
      () => { if(nameEl){ const oldSize = getComputedStyle(nameEl).fontSize; nameEl.style.transition='font-size 120ms ease'; nameEl.style.fontSize='24px'; setTimeout(()=>nameEl.style.fontSize=oldSize,220); setTimeout(()=>nameEl.style.transition='',420); } playChaosSound('blip'); },
      () => { const note = document.createElement('div'); note.textContent = randomFrom(["Chaos rising...","You like this too much","Unstable theme detected","System overheating"]); note.style.position='fixed'; note.style.bottom='20px'; note.style.left='50%'; note.style.transform='translateX(-50%)'; note.style.background='rgba(5,5,8,0.9)'; note.style.border='1px solid rgba(255,255,255,0.15)'; note.style.color='#fff'; note.style.fontSize='12px'; note.style.padding='6px 12px'; note.style.borderRadius='999px'; note.style.zIndex='2600'; note.style.opacity='0'; note.style.transition='opacity 180ms ease, transform 180ms ease'; document.body.appendChild(note); requestAnimationFrame(()=>{ note.style.opacity='1'; note.style.transform='translate(-50%, -8px)'; }); setTimeout(()=>{ note.style.opacity='0'; note.style.transform='translate(-50%, 0)'; setTimeout(()=>note.remove(),180); },1200); playChaosSound('blip'); }
    ];

    /* Super Chaos Mode */
    function superChaos(){
      chaosBtn.classList.add('super');
      quickClassPulse(wrap,'super-shake',520);
      addFlash();
      spawnEmoji(40,true);
      playChaosSound('bass');

      for(let i=0;i<5;i++){
        setTimeout(()=>{ randomFrom(chaosEffects)(); }, i*90);
      }

      if(profileBanner){
        profileBanner.style.transition='filter 220ms ease';
        profileBanner.style.filter='contrast(1.5) saturate(1.3)';
        setTimeout(()=>profileBanner.style.filter='',260);
        setTimeout(()=>profileBanner.style.transition='',520);
      }

      setTimeout(()=>chaosBtn.classList.remove('super'),900);
    }

    /* Counter update */
    function updateChaosCounter(){ chaosCounterEl.textContent = 'Chaos Clicker: ' + chaosCount; }

    /* Cooldown + click handler */
    chaosBtn.addEventListener('click', () => {
      if(onCooldown) return;
      onCooldown = true;
      chaosBtn.classList.add('cooldown');

      chaosCount++;
      updateChaosCounter();

      if(chaosCount % superThreshold === 0){
        superChaos();
      } else {
        randomFrom(chaosEffects)();
      }

      // cooldown visual + sound
      playChaosSound('blip');
      setTimeout(()=>{
        chaosBtn.classList.remove('cooldown');
        onCooldown = false;
      }, cooldownMs);
    });

    // Initialize
    updateChaosCounter();
  })();
  </script>

</body>
</html>
