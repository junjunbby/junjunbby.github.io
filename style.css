/* Root variables */
:root{
  --bg:#0b0f12;
  --card:#0f1720;
  --muted:#9aa4b2;
  --accent:#7c5cff;
  --glass: rgba(255,255,255,0.03);
  --radius:14px;
  --transition:250ms cubic-bezier(.2,.9,.3,1);
}

/* Global */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:var(--bg);
  color:#e6eef8;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:48px 20px;
  min-height:100vh;
  overflow-x:hidden;
}

/* Particle Background (subtle, non-glowing) */
.particle-bg{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.02) 0, transparent 20%),
    radial-gradient(circle at 80% 80%, rgba(255,255,255,0.01) 0, transparent 20%),
    linear-gradient(180deg, rgba(255,255,255,0.01), transparent 60%);
  opacity:0.9;
}

/* Loader */
#loader{
  position:fixed;
  inset:0;
  background:var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:3000;
  transition:opacity 300ms ease, visibility 300ms ease;
}

.loader-box{
  width:300px;
  text-align:center;
  color:#fff;
}

.loader-logo{margin-bottom:12px}
.loader-text{
  font-size:16px;
  margin-bottom:10px;
  opacity:0.9;
}

.loader-bar{
  width:100%;
  height:12px;
  background:rgba(255,255,255,0.06);
  border-radius:12px;
  overflow:hidden;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);
}

.loader-progress{
  width:0%;
  height:100%;
  background:linear-gradient(90deg,#00aaff,#4cc9f0);
  border-radius:12px;
  transition:width 120ms linear;
}

.loader-percent{
  margin-top:8px;
  font-size:13px;
  color:var(--muted);
}

/* When site loaded, small fade-in for content */
body.loaded .wrap{animation:fadeInSite 600ms ease forwards}
@keyframes fadeInSite{
  from{opacity:0; transform:translateY(8px)}
  to{opacity:1; transform:translateY(0)}
}

/* Wrapper */
.wrap{
  width:100%;
  max-width:820px;
  display:flex;
  flex-direction:column;
  gap:28px;
  opacity:0;
}

/* Profile Card - centered layout */
.profile{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--radius);
  padding:36px 28px 28px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  border:1px solid rgba(255,255,255,0.03);
  position:relative;
  overflow:hidden;
}

/* Profile Banner - flat, no blur, no glow */
.profile-banner{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:110px;
  z-index:0;
  border-radius:var(--radius) var(--radius) 0 0;
  pointer-events:none;
  opacity:1;
  transform:translateZ(0);
}

/* Default banner (subtle) */
.banner-default{
  background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
}

/* Banner style classes (flat, crisp, no glow) */
.banner-blueFade{background:linear-gradient(90deg,#0b2b4a,#003b6b)}
.banner-purpleFade{background:linear-gradient(90deg,#2b0b4a,#5b2b9a)}
.banner-sunset{background:linear-gradient(90deg,#3b0b0b,#7a2b1a)}
.banner-neonBlue{background:linear-gradient(90deg,#001a2b,#003b6b)}
.banner-galaxy{background:linear-gradient(90deg,#0b0f2b,#1b1f4b)}
.banner-galaxyPurple{background:linear-gradient(90deg,#1b0b2b,#4b1f6b)}
.banner-midnight{background:linear-gradient(90deg,#020b24,#071033)}
.banner-matrix{background:linear-gradient(90deg,#001a00,#003300)}
.banner-cyberpunk{background:linear-gradient(90deg,#2b001a,#6b003b)}
.banner-iceBlue{background:linear-gradient(90deg,#002b3b,#004b6b)}
.banner-lava{background:linear-gradient(90deg,#3b0000,#6b1a00)}
.banner-emerald{background:linear-gradient(90deg,#003b2b,#006b4b)}
.banner-gold{background:linear-gradient(90deg,#4b3b00,#8b6b00)}
.banner-vaporwave{background:linear-gradient(90deg,#ff7adf,#7adfff)}
.banner-fortniteOG{background:linear-gradient(90deg,#0b3b6b,#2b6b9a)}
.banner-techLines{background:linear-gradient(90deg,#071018,#0b1a2b)}
.banner-pixelGrid{background:linear-gradient(90deg,#0b0f12,#0f1720)}
.banner-neonMesh{background:linear-gradient(90deg,#1a002b,#003b6b)}

/* Logo above avatar */
.logo-above-avatar{
  z-index:2;
  margin-top:6px;
  margin-bottom:12px;
}

/* Avatar */
.avatar{
  width:96px;
  height:96px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),#4cc9f0);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:34px;
  color:#071018;
  flex-shrink:0;
  position:relative;
  z-index:2;
  box-shadow:none;
}

/* Meta */
.meta{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:12px;
  z-index:2;
}

.name{
  font-size:20px;
  font-weight:700;
}

.handle{
  color:var(--muted);
  font-size:13px;
}

.role{
  color:var(--muted);
  font-size:13px;
}

.bio{
  color:#cfe6ff;
  opacity:0.95;
  font-size:14px;
  margin-top:8px;
  max-width:640px;
}

/* Textbars */
.textbar{
  border-radius:12px;
  padding:14px 18px;
  background:rgba(255,255,255,0.02);
  display:flex;
  justify-content:space-between;
  align-items:center;
  border:1px solid rgba(255,255,255,0.03);
  box-shadow:0 8px 30px rgba(2,6,23,0.5);
}

.label{color:var(--muted); font-size:13px}
.link{
  color:#fff;
  background:linear-gradient(90deg,var(--accent),#4cc9f0);
  padding:8px 12px;
  border-radius:10px;
  text-decoration:none;
  font-weight:600;
}

/* Settings Button */
.settings-btn{
  position:fixed;
  top:20px;
  left:20px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.08);
  color:#fff;
  padding:10px 14px;
  border-radius:10px;
  cursor:pointer;
  font-size:18px;
  backdrop-filter:blur(6px);
  z-index:999;
}

/* Modal (centered, scrollable) */
.settings-modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(6px);
  justify-content:center;
  align-items:center;
  z-index:1000;
  overflow:auto; /* allows page to scroll if modal taller than viewport */
}

.settings-content{
  background:#0f1720;
  padding:16px;
  border-radius:12px;
  width:560px;            /* reduced width to avoid oversized modal */
  max-width:94%;
  max-height:80vh;        /* constrain height */
  overflow-y:auto;        /* enable vertical scroll inside modal */
  color:#fff;
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
}

/* Make inner sections wrap nicely on small screens */
.settings-section{margin-bottom:12px}
.section-title{font-size:14px;margin-bottom:8px;color:var(--muted)}

/* Theme grid */
.theme-grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
  margin-bottom:8px;
}
.theme-grid button{
  padding:8px;
  border-radius:8px;
  background:rgba(255,255,255,0.03);
  color:#fff;
  border:none;
  cursor:pointer;
  font-size:13px;
}

/* Banner grid (swatch previews) */
.banner-grid{
  display:grid;
  grid-template-columns:repeat(5,1fr); /* fewer columns so items fit */
  gap:8px;
  max-height:200px;
  overflow:auto;
  padding-right:6px;
}
.banner-grid button{
  padding:8px;
  height:48px;
  border-radius:8px;
  background:transparent;
  color:#fff;
  border:1px solid rgba(255,255,255,0.06);
  cursor:pointer;
  font-size:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  position:relative;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}
.banner-grid button::after{
  content: attr(data-banner);
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  color: rgba(255,255,255,0.9);
  mix-blend-mode: overlay;
  pointer-events: none;
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
}
.banner-grid button:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(2,6,23,0.45); }
.banner-grid button.active { outline: none; border-color: rgba(124,92,255,0.9); box-shadow: 0 10px 30px rgba(124,92,255,0.12); transform: translateY(-2px); }

/* Per-banner swatches */
.banner-grid button[data-banner="blueFade"]     { background: linear-gradient(90deg,#0b2b4a,#003b6b); }
.banner-grid button[data-banner="purpleFade"]   { background: linear-gradient(90deg,#2b0b4a,#5b2b9a); }
.banner-grid button[data-banner="sunset"]       { background: linear-gradient(90deg,#3b0b0b,#7a2b1a); }
.banner-grid button[data-banner="neonBlue"]     { background: linear-gradient(90deg,#001a2b,#003b6b); }
.banner-grid button[data-banner="galaxy"]       { background: linear-gradient(90deg,#0b0f2b,#1b1f4b); }
.banner-grid button[data-banner="galaxyPurple"] { background: linear-gradient(90deg,#1b0b2b,#4b1f6b); }
.banner-grid button[data-banner="midnight"]     { background: linear-gradient(90deg,#020b24,#071033); }
.banner-grid button[data-banner="matrix"]       { background: linear-gradient(90deg,#001a00,#003300); }
.banner-grid button[data-banner="cyberpunk"]    { background: linear-gradient(90deg,#2b001a,#6b003b); }
.banner-grid button[data-banner="iceBlue"]      { background: linear-gradient(90deg,#002b3b,#004b6b); }
.banner-grid button[data-banner="lava"]         { background: linear-gradient(90deg,#3b0000,#6b1a00); }
.banner-grid button[data-banner="emerald"]      { background: linear-gradient(90deg,#003b2b,#006b4b); }
.banner-grid button[data-banner="gold"]         { background: linear-gradient(90deg,#4b3b00,#8b6b00); }
.banner-grid button[data-banner="vaporwave"]    { background: linear-gradient(90deg,#ff7adf,#7adfff); }
.banner-grid button[data-banner="fortniteOG"]   { background: linear-gradient(90deg,#0b3b6b,#2b6b9a); }
.banner-grid button[data-banner="techLines"]    { background: linear-gradient(90deg,#071018,#0b1a2b); }
.banner-grid button[data-banner="pixelGrid"]    { background: linear-gradient(90deg,#0b0f12,#0f1720); }
.banner-grid button[data-banner="neonMesh"]     { background: linear-gradient(90deg,#1a002b,#003b6b)}

/* Settings actions */
.settings-actions{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  margin-top:10px;
}
.close-btn{
  padding:10px 14px;
  border-radius:8px;
  background:#7c5cff;
  color:#fff;
  border:none;
  cursor:pointer;
}
.reset-btn{
  padding:10px 14px;
  border-radius:8px;
  background:rgba(255,255,255,0.06);
  color:#fff;
  border:none;
  cursor:pointer;
}

/* Theme variable overrides */
body[data-theme="light"]{
  --bg:#f4f4f4;
  --card:#fff;
  --muted:#555;
  color:#111;
}
body[data-theme="dark"]{--bg:#0b0f12}
body[data-theme="purple"]{--bg:#1a1028; --accent:#b57bff}
body[data-theme="neonBlue"]{--bg:#00111f; --accent:#00aaff}
body[data-theme="galaxy"]{--bg:linear-gradient(circle at top,#1a1a3d,#000)}
body[data-theme="galaxyPurple"]{--bg:linear-gradient(circle at top,#2a0a4a,#000)}
body[data-theme="sunset"]{--bg:#2b0a00; --accent:#ff7a3d}
body[data-theme="matrix"]{--bg:#001a00; --accent:#00ff41}
body[data-theme="cyberpunk"]{--bg:#1a0015; --accent:#ff2ec4}
body[data-theme="midnight"]{--bg:#020b24; --accent:#4c6fff}

/* Chaos Clicker button wrapper - right middle */
.chaos-wrapper{
  position:fixed;
  top:50%;
  right:20px;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  z-index:2000;
}

/* Chaos Clicker button - styled like other UI buttons */
.chaos-btn{
  padding:10px 14px;
  border-radius:10px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.08);
  color:#fff;
  font-size:13px;
  font-weight:700;
  cursor:pointer;
  backdrop-filter:blur(6px);
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
  text-transform:none;
  transition:transform 140ms ease, box-shadow 140ms ease, background 140ms ease, color 140ms ease;
  white-space:nowrap;
}

.chaos-btn:hover:not(.cooldown){
  transform:translateY(-2px);
  box-shadow:0 14px 40px rgba(0,0,0,0.8);
}

.chaos-btn:active:not(.cooldown){
  transform:translateY(1px) scale(0.98);
  box-shadow:0 8px 20px rgba(0,0,0,0.7);
}

/* Super Chaos visual state */
.chaos-btn.super{
  background:#111;
  color:#ff4b81;
  border-color:#ff4b81;
  text-shadow:0 0 8px rgba(255,75,129,0.6);
}

/* Cooldown ring using ::after */
.chaos-btn.cooldown{
  position:relative;
  pointer-events:none;
  opacity:0.85;
}

.chaos-btn.cooldown::after{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:inherit;
  border:2px solid rgba(255,255,255,0.18);
  box-sizing:border-box;
  animation:chaosCooldown 900ms linear forwards;
}

@keyframes chaosCooldown{
  0%{transform:scale(1); opacity:1;}
  100%{transform:scale(0.7); opacity:0;}
}

/* Chaos counter text */
.chaos-counter{
  font-size:12px;
  color:var(--muted,#9aa4b2);
  background:rgba(255,255,255,0.02);
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.04);
  backdrop-filter:blur(6px);
}

/* Shake for super chaos */
@keyframes chaosShakeHard{
  0%{transform:translate(-2px,-2px);}
  20%{transform:translate(4px,2px);}
  40%{transform:translate(-4px,3px);}
  60%{transform:translate(5px,-3px);}
  80%{transform:translate(-3px,2px);}
  100%{transform:translate(0,0);}
}

.super-shake{
  animation:chaosShakeHard 500ms ease;
}

/* Emoji rain */
.chaos-emoji{
  position:fixed;
  top:-30px;
  font-size:32px;
  animation:chaosFall 1.6s linear forwards;
  pointer-events:none;
  z-index:3000;
}

@keyframes chaosFall{
  to{
    transform:translateY(120vh) rotate(540deg);
    opacity:0;
  }
}

/* Glitch effect */
.chaos-glitch{
  animation:chaosGlitchAnim 450ms steps(2,end);
}

@keyframes chaosGlitchAnim{
  0%{ text-shadow:2px 0 #ff004c, -2px 0 #00f6ff; }
  50%{ text-shadow:-2px 0 #ff004c, 2px 0 #00f6ff; }
  100%{ text-shadow:0 0 transparent; }
}

/* Quick flash overlay */
.chaos-flash{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at center,rgba(255,255,255,0.4),transparent 60%);
  pointer-events:none;
  z-index:2900;
  animation:chaosFlashAnim 260ms ease-out forwards;
}

@keyframes chaosFlashAnim{
  from{opacity:0.8;}
  to{opacity:0;}
}

/* Blur pulse */
.chaos-blur{
  filter:blur(4px);
  transition:filter 220ms ease;
}

/* Wiggle text */
@keyframes chaosWiggle{
  0%{ transform:translateY(0); }
  25%{ transform:translateY(-2px) rotate(-1deg); }
  50%{ transform:translateY(2px) rotate(1deg); }
  75%{ transform:translateY(-1px) rotate(-1deg); }
  100%{ transform:translateY(0) rotate(0); }
}

.chaos-wiggle{
  animation:chaosWiggle 380ms ease-in-out;
}

/* Small screens - move chaos button slightly in and make modal full width */
@media (max-width:720px){
  .chaos-wrapper{
    right:12px;
  }
  .settings-content{
    width:94%;
    padding:12px;
  }
  .theme-grid{ grid-template-columns:repeat(3,1fr); }
  .banner-grid{ grid-template-columns:repeat(3,1fr); max-height:260px; }
}
